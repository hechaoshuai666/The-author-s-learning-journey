# MySQL必知必会系列

**整理作者阅读该书的知识点**

## 第4章 检索数据

本章将介绍如何使用SELECT语句从表中检索一个或多个数据列。

### 4.1 SELECT语句

最经常使用的SQL语句就是SELECT语句了。它的用途是从一个或多个表中检索
信息。

### 4.2 检索单个列

```sql
输入:select prod_name from products;
分析:上述语句利用SELECT语句从products表中检索一个名为
prod_name的列。所需的列名在SELECT关键字之后给出，FROM
关键字指出从其中检索数据的表名

注意:
可能会发现显示输出的数据顺序与这里的不同。出现这种情况很正常。如果没有
明确排序查询结果（下一章介绍），则返回的数据的顺序没有
特殊意义。返回数据的顺序可能是数据被添加到表中的顺序，
也可能不是。只要返回相同数目的行，就是正常的。

SQL语句和大小写
请注意，SQL语句不区分大小写，因此
SELECT与select是相同的。同样，写成Select也没有关系。
许多SQL开发人员喜欢对所有SQL关键字使用大写，而对所有
列和表名使用小写，这样做使代码更易于阅读和调试。

空格问题
在处理SQL语句时，其中所有空格都被忽略。SQL
语句可以在一行上给出，也可以分成许多行。多数SQL开发人
员认为将SQL语句分成多行更容易阅读和调试。
```

### 4.3 检索多个列

要想从一个表中检索多个列，使用相同的SELECT语句。唯一的不同是必须在SELECT关键字后给出多个列名，列名之间必须以逗号分隔。

```sql
输入:SELECT prod_id,prod_name,prod_price FROM products;
分析:与前一个例子一样，这条语句使用SELECT语句从表products
中选择数据。在这个例子中，指定了3个列名，列名之间用逗
号分隔。
```

### 4.4 检索所有列

SELECT语句还可以检索所有的列而不必逐个列出它们。这可以通过在实际列名的位置使
用星号（*）通配符来达到，如下所示：

```sql
输入:SELECT * FROM products;

注意:一般，除非你确实需要表中的每个列，
否则最好别使用*通配符。虽然使用通配符可能会使你自己省事，不
用明确列出所需列，但检索不需要的列通常会降低检索和应
用程序的性能。
```

### 4.5 检索不同的行

当我们检索的列中有重复的值,我们并不想看到重复的值,可以使用关键词

distinct去重

```sql
输入:select distinct prod_id from products;

注意:
不能部分使用DISTINCT
DISTINCT关键字应用于所有列而
不仅是前置它的列。如果给出SELECT DISTINCT vend_id, 
prod_price，除非指定的两个列都不同，否则所有行都将被
检索出来。
```

### 4.6 限制结果

SELECT语句返回所有匹配的行，它们可能是指定表中的每个行。为
了返回第一行或前几行，可使用LIMIT子句。

```sql
输入:select prod_id from products limit 5;
分析:此语句使用SELECT语句检索单个列。LIMIT 5指示MySQL返回
不多于5行。

可指定开始的位置和检索的行数
limit 5,5指示MySQL返回从行5开始的5行。第一个数为开始
位置，第二个数为要检索的行数。

其他:LIMIT 3, 4的含义是从行4开始的3
行还是从行3开始的4行？如前所述，它的意思是从行3开始的4
行，这容易把人搞糊涂。 
由于这个原因，MySQL 5支持LIMIT的另一种替代语法。LIMIT
4 OFFSET 3意为从行3开始取4行，就像LIMIT 3, 4一样。
```

### 4.7 使用完全限定的表名

迄今为止使用的SQL例子只通过列名引用列。也可能会使用完全限定
的名字来引用列（同时使用表名和列字）。

```sql
输入:select products.prod_id from products;
这条SQL语句在功能上等于本章最开始使用的那一条语句，但这里指
定了一个完全限定的列名。
```

表名也可以是完全限定的，如下所示：

```sql
输入:select products.prod_name from crashcourse.products;
```

